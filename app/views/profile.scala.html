@(page: models.Page[models.ArticleModels.ArticleListModel], userDetails: models.database.UserRecord, lastUsedTags: Option[String] = None)(implicit user: Principal)
@templates.main(s"Articles by ${userDetails.username}") {
  <div class="row">
    <div class="col-md-10 col-md-offset-1">
      <div class="user-profile clearfix">
        <header class="user-profile-header clearfix">
          <div class="pull-left">
            <h2 class="username"><i class="glyphicon glyphicon-user"></i>
              @userDetails.username
            </h2>
            <h3 class="name">
            @if(!userDetails.firstName.isEmpty || !userDetails.lastName.isEmpty) {
              (@userDetails.firstName @userDetails.lastName)
            }
            </h3>
          </div>
          <div class="pull-right">
            <ul class="user-stats">
              <li class="">Articles<strong>@page.totalItems</strong></li>
            </ul>
          </div>
        </header>
        <br/>
        <div class="clearfix">
        @if(!page.list.isEmpty) {
          <div class="pull-left tag-search-container">
            <form class="tags-search-form" method="get" action="@routes.UserController.viewProfile(userDetails.username, None)">
              <input id="tag_input" value="@lastUsedTags" class="form-control search-input"
              placeholder="Tag filter (comma separated)" data-url="@routes.TagsController.listTags()"/>
              <button class="btn btn-sm btn-info tag-search-button">Find</button>
              <div class="tag-container"></div>
            </form>
          </div>
        }
        </div>
        @templates.bareArticleList(page, routes.UserController.viewProfilePaged(userDetails.username, _, lastUsedTags))
        <div class="centralized-inputs clearfix">
        @if(user.can(Create, Article)) {
          <a class="btn btn-lg btn-primary" href="@routes.ArticleController.getNewArticlePage">
            <i class="glyphicon glyphicon-pencil icon-white"></i> Write article
          </a>
        }
        </div>
      </div>
    </div>
  </div>
} {
  <script src="@routes.Assets.at("/public/javascripts", "tagmanager.js")" type="text/javascript"></script>
  <script src="@routes.Assets.at("/public/javascripts", "jquery.typeahead.min.js")" type="text/javascript"></script>
  <script src="@routes.Assets.at("/public/javascripts", "highlight.pack.js")" type="text/javascript"></script>
  <script src="@routes.Assets.at("/public/javascripts", "NotificationsSupport.js")" type="text/javascript"></script>
  <script src="@routes.Assets.at("/public/javascripts", "TagSupport.js")" type="text/javascript"></script>
}
