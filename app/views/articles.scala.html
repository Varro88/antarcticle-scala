@(page: models.Page[models.ArticleModels.ArticleListModel], lastUsedTags: Option[String] = None, instanceName: String)(implicit user: Principal)

@templates.main("Articles", instanceName) {
  <div class="row">
    <div class="col-md-10 col-md-offset-1">
      <div class="clearfix">
        <div class="pull-left tag-search-container">
          <form class="tags-search-form" method="get" action="@routes.ArticleController.listArticles(None)">
            <input value="@lastUsedTags" id="tag_input" class="form-control search-input"
            data-url="@routes.TagsController.listTags()" placeholder="Tag filter (comma separated)"/>
            <button class="btn btn-sm btn-info tag-search-button">Find</button>
            <div class="tag-container"></div>
          </form>
        </div>
        @if(user.can(Create, Article)) {
          <div class="pull-right create-article-button">
            <a class="btn btn-lg btn-primary" href="@routes.ArticleController.getNewArticlePage">
              <i class="glyphicon glyphicon-pencil icon-white"></i> Write article
            </a>
            <div class="clearfix"></div>
          </div>
        }
      </div>
      @templates.bareArticleList(page, routes.ArticleController.listArticlesPaged(lastUsedTags, _))
    </div>
  </div>
} {
  <script src="@routes.Assets.at("/public/javascripts", "tagmanager.js")" type="text/javascript"></script>
  <script src="@routes.Assets.at("/public/javascripts", "jquery.typeahead.min.js")" type="text/javascript"></script>
  <script src="@routes.Assets.at("/public/javascripts", "highlight.pack.js")" type="text/javascript"></script>
  <script src="@routes.Assets.at("/public/javascripts", "NotificationsSupport.js")" type="text/javascript"></script>
  <script src="@routes.Assets.at("/public/javascripts", "TagSupport.js")" type="text/javascript"></script>
}
